<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Tetris LoL</title>

    <link rel="stylesheet" href="style.css" >

    <!-- Libraries -->
    <script type="text/javascript" src="js/GLOBALS.js"></script>
    <script type="text/javascript" src="js/utility/array.js"></script>
    <script type="text/javascript" src="js/utility/random.js"></script>
    <script type="text/javascript" src="js/utility/browser.js"></script>
    <!-- Objects -->
    <script type="text/javascript" src="js/Tetromino.js"></script>
    <script type="text/javascript" src="js/SquaresMatrix.js"></script>
    <script type="text/javascript" src="js/Square.js"></script>
    <script type="text/javascript" src="js/GameInfoController.js"></script>
    <script type="text/javascript" src="js/Board.js"></script>
    <script type="text/javascript" src="js/GameLoopService.js"></script>
</head>

<body>
    <div id="tetrisGame">
        <div id="gameInfo">
            <div id="nextShape"></div>
            <br/>
            Score:
            <div id="scoreField"></div>
            <br/>
            <button id="newGameButton" onclick="startNewGame()">Play</button>
        </div>
        <div id="gameCanvas">
        </div>
    </div>
    <script>
        var canvas = document.getElementById("gameCanvas");                           
        var widthInSquares = 12;
        var heightInSquares = 18;
        var scoreField = document.getElementById("scoreField");                           
        var gameLoopService = new GameLoopService();

        var boardController = null; 
        var gInfoController = null; 
        var intervalID = null;
        function startNewGame() {
            gameOver();

            boardController = new Board(canvas, 
                                        widthInSquares, heightInSquares);
            gInfoController = new GameInfoController(scoreField);    
            intervalID = gameLoopService.start();
        }

        /* Start right away. */
        startNewGame();
    </script>
</body>
</html>
