<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Tetris LoL</title>
    <link rel="shortcut icon" media="all" type="image/x-icon" href="favicon.ico"> 
    <link rel="stylesheet" href="style.css" >
</head>

<body>

    <div id="wrapper">
        <div id="tetrisGame">
            <div id="gameCanvas"> <!-- Where the game is drawn. --> </div>
            
            <div id="gameInfo">
                <div id="nextTetrominoField" class="field"></div>
                <br/>
                <div id="scoreField" class="field"></div>
                <br/>
                <a id="newGameButton" onclick="startNewGame()"></a>
                <br/>
                <a id='gitlink' href="https://github.com/givanse/tetrislol/tree/gh-pages">
                    &nbsp;&nbsp;&nbsp;&nbsp;tetrislol
                </a>           
            </div>
            
            <div style="clear: both;"><!-- clear floats --></div>
            
            <div id='gameoverSplash'><!-- starts hidden --></div>
        </div>
    </div>

    <!-- Libraries -->
    <script type="text/javascript" src="js/GLOBALS.js"></script>
    <script type="text/javascript" src="js/utility/array.js"></script>
    <script type="text/javascript" src="js/utility/random.js"></script>
    <script type="text/javascript" src="js/utility/browser.js"></script>
    <!-- Objects -->
    <script type="text/javascript" src="js/Tetromino.js"></script>
    <script type="text/javascript" src="js/SquaresMatrix.js"></script>
    <script type="text/javascript" src="js/Square.js"></script>
    <script type="text/javascript" src="js/GameInfoController.js"></script>
    <script type="text/javascript" src="js/Board.js"></script>
    <script type="text/javascript" src="js/GameLoopService.js"></script>
    
    <!-- GLOBALs abuse, could be circumvented, reasons below: -->
    <!-- This is not an object, the reason is the <this> problem -->
    <!-- Wrong <this> in tetrisGame.run() -->
    <!-- developer.mozilla.org/en-US/docs/Web/API/window.setInterval#The_.22this.22_problem -->
    <script type="text/javascript" src="js/tetrisGame.js"></script>
    <script>
        /**********************************************************************
          *
          * Tetris game start up.
          *
          ********************************************************************/

        /* Find DOM objects used for the game. */
        var TETRIS_GAME = document.getElementById("tetrisGame");
        var CANVAS = document.getElementById("gameCanvas");
        var GAME_INFO = document.getElementById("gameInfo");
        var NEXT_TETROMINO_FIELD = document.getElementById("nextTetrominoField");
        var SCORE_FIELD = document.getElementById("scoreField");
        var GAMEOVER_SPLASH = document.getElementById("gameoverSplash");
   
        var GAMELOOPSERVICE = new GameLoopService(run);

        var BOARD_CONTROLLER = null;
        var G_INFO_CONTROLLER = null;
        var INTERVAL_ID = null;

        /** 
         * Playfield is 10 cells wide and at least 22 cells tall, where 
         * rows above 20 are hidden or obstructed by the field frame.
         */
        var WIDTH_IN_SQUARES = 10;
        var HEIGHT_IN_SQUARES = 20;      /* top two are logical only, hidden */
        /* Start right away. */
        startNewGame();                                     /* tetrisGame.js */
    </script>
</body>
</html>

<!-- EOF -->
